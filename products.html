<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />

    <style>
      body {
        margin-top: 20px;
        background: #eee;
      }

      /*panel*/
      .panel {
        border: none;
        box-shadow: none;
      }

      .panel-heading {
        border-color: #eff2f7;
        font-size: 16px;
        font-weight: 300;
      }

      .panel-title {
        color: #2a3542;
        font-size: 14px;
        font-weight: 400;
        margin-bottom: 0;
        margin-top: 0;
        font-family: "Open Sans", sans-serif;
      }

      /*product list*/

      .prod-cat li a {
        border-bottom: 1px dashed #d9d9d9;
      }

      .prod-cat li a {
        color: #3b3b3b;
      }

      .prod-cat li ul {
        margin-left: 30px;
      }

      .prod-cat li ul li a {
        border-bottom: none;
      }
      .prod-cat li ul li a:hover,
      .prod-cat li ul li a:focus,
      .prod-cat li ul li.active a,
      .prod-cat li a:hover,
      .prod-cat li a:focus,
      .prod-cat li a.active {
        background: none;
        color: #ff7261;
      }

      .pro-lab {
        margin-right: 20px;
        font-weight: normal;
      }

      .pro-sort {
        padding-right: 20px;
        float: left;
      }

      .pro-page-list {
        margin: 5px 0 0 0;
      }

      .product-list img {
        width: 100%;
        border-radius: 4px 4px 0 0;
        -webkit-border-radius: 4px 4px 0 0;
      }

      .product-list .pro-img-box {
        position: relative;
      }
      .adtocart {
        background: #fc5959;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        -webkit-border-radius: 50%;
        color: #fff;
        display: inline-block;
        text-align: center;
        border: 3px solid #fff;
        left: 45%;
        bottom: -25px;
        position: absolute;
      }

      .adtocart i {
        color: #fff;
        font-size: 25px;
        line-height: 42px;
      }

      .pro-title {
        color: #5a5a5a;
        display: inline-block;
        margin-top: 20px;
        font-size: 16px;
      }

      .product-list .price {
        color: #fc5959;
        font-size: 15px;
      }

      .pro-img-details {
        margin-left: -15px;
        width: 35%;
      }

      .pro-img-details img {
        width: 100%;
      }

      .pro-d-title {
        font-size: 16px;
        margin-top: 0;
      }

      .product_meta {
        border-top: 1px solid #eee;
        border-bottom: 1px solid #eee;
        padding: 10px 0;
        margin: 15px 0;
      }

      .product_meta span {
        display: block;
        margin-bottom: 10px;
      }
      .product_meta a,
      .pro-price {
        color: #fc5959;
      }

      .pro-price,
      .amount-old {
        font-size: 18px;
        padding: 0 10px;
      }

      .amount-old {
        text-decoration: line-through;
      }

      .quantity {
        width: 120px;
      }

      .pro-img-list {
        margin: 10px 0 0 -15px;
        width: 100%;
        height: 100%;
        display: inline-block;
      }

      .pro-img-list a {
        float: left;
        margin-right: 10px;
        margin-bottom: 10px;
      }

      .pro-d-head {
        font-size: 18px;
        font-weight: 300;
      }

      .pro-img-details img {
        width: 475px;
        height: 450px;
      }

      .pro-img-list img {
        width: 150px;
        height: 150px;
      }

      @media screen and (max-width: 600px) {
        .pro-img-details img {
          width: 300px;
          height: 300px;
        }
        .pro-img-list img {
          width: 80px;
          height: 90px;
        }
      }
      @media screen and (max-width: 320px) {
        .pro-img-details img {
          width: 230px;
          height: 230px;
        }
        .pro-img-list img {
          width: 55px;
          height: 60px;
        }
      }
      @media screen and (max-width: 375px) {
        .pro-img-details img {
          width: 285px;
          height: 285px;
        }
        .pro-img-list img {
          width: 75px;
          height: 80px;
        }
      }
      .buybutton {
        color: rgb(255, 255, 255);
        border: #4214ae;
        background-color: hsl(353, 100%, 78%);
        border-color: white;
        padding: 10px 10px;
        font-size: small;
        
      }
      .buybutton:hover {
        color: hsl(353, 100%, 78%);
        background-color: white;
        border-color: hsl(353, 100%, 78%);
      }
    </style>
  </head>
  <body>
    <div id="output"></div>
    <script>
      function getUrlParams() {
        const params = new URLSearchParams(window.location.search);
        return {
          id: params.get("id"),
          name: params.get("name"),
          image: params.get("image"),
          image2: params.get("imageTwo"),
          image3: params.get("imageThree"),
          image4: params.get("imageFour"),
          price: params.get("price"),
          oldPrice: params.get("oldPrice"),
        };
      }

      // Retrieve parameters
      const product = getUrlParams();

      const outputDiv = document.getElementById("output");
      const productHtml = ` 
         <div class="container bootdey">
        <div class="col-md-12">
        <section class="panel">
              <div class="panel-body">
                  <div class="col-md-6" id = "image">
                      <div class="pro-img-details">
                          <img src="${product.image}" alt="" id ="main">
                      </div>
                      <div class="pro-img-list">
                          <a href="#">
                              <img src="${product.image2}" alt="" id ="sub01">
                          </a>
                          <a href="#">
                              <img src="${product.image3}}" alt="" id ="sub02">
                          </a>
                          <a href="#">
                              <img src="${product.image4}" alt="" id ="sub03">
                          </a>
                        
                      </div>
                  </div>
                  <div class="col-md-6">
                      <h4 class="pro-d-title">
                          <a href="#" class="">
                            <br>
                            ${product.name}
                          </a>
                      </h4>
                      <p>
                        Luxury Collection by Saluni Fashion - Hurry Up  <br>
                        Product Colour May Slightly vary Due to Photographic Lightning or your Device Settings
                        

                      </p>
                      <div class="product_meta">
                          <span class="posted_in"> <strong>Categories:</strong> <a rel="tag" href="#">Jackets</a>, <a rel="tag" href="#">Men</a>, <a rel="tag" href="#">Shirts</a>, <a rel="tag" href="#">T-shirt</a>.</span>
                          <span class="tagged_as"><strong>Tags:</strong> <a rel="tag" href="#">mens</a>, <a rel="tag" href="#">womens</a>.</span>
                          <br>
                          <div class="sizesection">
                            <select id = "size">
                            <option>XL</option>
                            <option>XXL</option>
                            <option>L</option>
                            <option>S</option>
                            <option></option>
                            
                            </select>
                      </div>
                      <br>
                      <div class="m-bot15"> <strong>Price : </strong> <span class="amount-old">  </span>  <span class="pro-price"> ${product.price}</span></div>
                      <div class="form-group">
                          <label >Quantity : ${product.id}</label>
                          <input type="quantiy" placeholder="1" class="form-control quantity" id = "quantity">
                      </div>
                      <p>
                          <button class="buybutton" type="button" id ="addtocart"  data-product-id="${product.id}" 
          data-product-name="${product.name}" 
          data-product-image="${product.image}" 
          data-product-price="${product.price}" 
          data-quantity=""
          data-size="" 


           ><i class="fa fa-shopping-cart"></i>Add to Cart</button>
                      </p>
                  </div>
              </div>
          </section>
          </div>
          </div>
    `;
      outputDiv.innerHTML = productHtml;
      const size = document.getElementById("size").value;
      const quantity = document.getElementById("quantity").value;
      const addtocartbutton = document.getElementById("addtocart");
      addtocartbutton.addEventListener("click", function () {
        addCity();

        window.location.href = "./Payments.html";
      });

      const main = document.getElementById("main");

      main.addEventListener("click", function () {
        console.log("main Clicked");
      });

      const sub01 = document.getElementById("sub01");

      sub01.addEventListener("click", function () {
        console.log("sub01 Clicked");
        main.src = sub01.src;
      });

      const sub02 = document.getElementById("sub02");

      sub02.addEventListener("click", function () {
        console.log("sub02 Clicked");
        main.src = sub02.src;
      });

      const sub03 = document.getElementById("sub03");

      sub03.addEventListener("click", function () {
        console.log("sub03 Clicked");
        main.src = sub03.src;
      });

      const buyButtons = document.querySelectorAll(".buybutton");
      buyButtons.forEach((button) => {
        button.addEventListener("click", (event) => {
          const productId = event.target.getAttribute("data-product-id");
          const productName = event.target.getAttribute("data-product-name");
          const productImage = event.target.getAttribute("data-product-image");
          const productPrice = event.target.getAttribute("data-product-price");
          const productOldPrice = event.target.getAttribute("data-product-old-price");
          const productImageTwo = event.target.getAttribute( "data-product-imagetwo");
          const productImageThree = event.target.getAttribute("data-product-imageThree"); 
          const productImageFour = event.target.getAttribute("data-product-imageFour");
          const quantiy = document.getElementById("quantity").value;
          const size = document.getElementById("size").value;
          
          
            
        
          

          // Create a URL with query parameters
          const url = new URL("Payments.html", window.location.origin);
          url.searchParams.append("id", productId);
          url.searchParams.append("name", productName);
          url.searchParams.append("image", productImage);
          url.searchParams.append("price", productPrice);
          url.searchParams.append("oldPrice", productOldPrice);
          url.searchParams.append("imageTwo", productImageTwo);
          url.searchParams.append("imageThree", productImageThree);
          url.searchParams.append("imageFour", productImageFour);
          url.searchParams.append("quantity", quantiy);
          url.searchParams.append("size", size);

          // Navigate to the new URL
          window.location.href = url.toString();
        });
      });
    </script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="module" src="./products.js"></script>
  </body>
</html>
